<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Traffic Signal</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #111;
      color: #eee;
    }
    h1 {
      text-align: center;
      color: #00f27c;
    }
    .container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 30px;
    }

    .signal {
      padding: 20px;
      border-radius: 10px;
      background: #222;
      box-shadow: 0 0 10px #000;
    }
    .signal h2 {
      margin: 0;
      font-size: 32px;
    }
    .signal input[type="number"], .signal input[type="checkbox"] {
      margin: 10px 0;
      padding: 5px;
      width: 80px;
    }
    .status {
      margin-top: 10px;
      font-weight: bold;
      font-size: 30px;
    }
    .green {
      color: #00ff00;
    }
    .yellow {
      color: #ffcc00;
    }
    .red {
      color: #ff3333;
    }
    button {
      margin-top: 30px;
      padding: 10px 20px;
      font-size: 16px;
      background: #00f27c;
      color: #000;
      border: none;
      cursor: pointer;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<h1>ðŸš¦ Smart Traffic Signal Controller</h1>

<div class="container" id="signalContainer">
  <!-- Signals will be dynamically inserted here -->
</div>

<div style="text-align:center;">
  <button onclick="updateSignals()">Update Signals</button>
</div>

<script>
  const directions = ["North", "South", "East", "West"];
  const signalContainer = document.getElementById("signalContainer");

  // Initialize the UI
  directions.forEach(dir => {
    signalContainer.innerHTML += `
      <div class="signal" id="${dir}">
        <h2>${dir} Side</h2>
        <label>Vehicle Count: <input type="number" id="${dir}-count" min="0" value="0"></label><br>
        <label>ðŸš‘ Emergency: <input type="checkbox" id="${dir}-emergency"></label>
        <div class="status" id="${dir}-status">Waiting</div>
      </div>
    `;
  });

  function updateSignals() {
    let inputs = directions.map(dir => {
      return {
        dir,
        count: parseInt(document.getElementById(`${dir}-count`).value),
        emergency: document.getElementById(`${dir}-emergency`).checked
      };
    });

    // Priority to emergency vehicles first
    let emergencyDir = inputs.find(i => i.emergency);
    if (emergencyDir) {
      setSignalColors(emergencyDir.dir, null);
      return;
    }

    // Sort by vehicle count
    inputs.sort((a, b) => b.count - a.count);
    let first = inputs[0], second = inputs[1];

    setSignalColors(first.dir, second.dir);
  }

  function setSignalColors(greenDir, yellowDir) {
    directions.forEach(dir => {
      let status = document.getElementById(`${dir}-status`);
      status.classList.remove("green", "yellow", "red");

      if (dir === greenDir) {
        status.textContent = "Green - Go";
        status.classList.add("green");
      } else if (dir === yellowDir) {
        status.textContent = "Yellow - Ready";
        status.classList.add("yellow");
      } else {
        status.textContent = "Red - Stop";
        status.classList.add("red");
      }
    });
  }
</script>

</body>
</html>


